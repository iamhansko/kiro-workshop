# Steering

<img src="/img/kiro_steering.png" />

> [!NOTE]
>
> **Steering**은 영어로 "방향을 잡다/조종하다"를 의미합니다.

### 학습 목표
- Steering 파일의 개념과 역할 이해
- 프로젝트 내 개발 표준 설정
- 개발 표준 자동 적용 확인

### 스티어링 주요 특징

**스티어링**(**Steering**)은 Kiro가 코드를 생성할 때 따라야 할 표준 (규칙, 스타일, 패턴, 가이드라인 등)을 정의하는 마크다운 문서입니다.
- **일관성 유지** : 모든 코드가 동일한 스타일과 패턴을 따름
- **자동화** : 매번 지시하지 않아도 표준은 자동 적용됨
- **협업**: 팀 전체가 통일된 동일 표준으로 개발 가능함

`steering/` 기본 마크다운 문서
```md copy
.kiro/
└── steering/
    ├── product.md
    ├── structure.md
    └── tech.md
```
- 🏅 **product.md** : 프로젝트의 목적과 기능을 설명합니다. Kiro가 프로젝트의 전체적인 맥락("why?")을 파악하는 데 활용됩니다.
- 🏗️ **structure.md** : 프로젝트 파일/폴더 구조와 주요 패턴 및 아키텍처를 설명합니다. 원하는 파일/폴더의 위치를 빠르게 찾고 올바른 위치에서 작업할 수 있도록 지원합니다.
- 🛠️ **tech.md** : 기술 스택과 개발 도구를 설명합니다. 기존 기술을 유지하면서 일관된 개발 환경을 보장합니다.

스티어링 포함 조건 (inclusion)
```md
---
inclusion: always    # 항상 포함
---

---
inclusion: fileMatch # 특정 파일 패턴에만 적용
fileMatchPattern: "*.js"
---

---
inclusion: manual    # 수동으로 참조할 때만 적용
---
```

- [inclusion: always 예시](https://github.com/awsdataarchitect/kiro-best-practices/blob/main/.kiro/steering/aws-cli-best-practices.md?plain=1)
- [inclusion: fileMatch 예시](https://github.com/awsdataarchitect/kiro-best-practices/blob/main/.kiro/steering/docker-best-practices.md?plain=1)
- [inclusion: manual 예시](https://aws.amazon.com/ko/blogs/tech/augmented-coding-with-kiro/)

### 스티어링 기능으로 To-Do 웹 사이트 개선하기

**기본 스티어링 문서 생성** ([예시](https://youtu.be/-IjYrIwRn54?si=iSM3EM1g60zPiSOb&t=285))

1. 좌측 사이드바 > Kiro 패널(유령(👻) 아이콘) 선택

2. AGENT STEERING에서 Generate Steering Docs 선택

3. 세션 창 Command에서 실행이 멈출 경우, 실행(▶) 아이콘을 계속 선택

4. Kiro가 자동으로 기본 스티어링 문서 ( product.md / structure.md / tech.md ) 생성

**커스텀 스티어링 문서 생성** ([예시](https://www.youtube.com/watch?v=-IjYrIwRn54&t=317))

> [!NOTE]
>
> 기본 스티어링 문서 외에 커스텀 스티어링 문서를 생성하여 원하는 표준을 더 추가할 수 있습니다.
> - [ 기본 스티어링 문서 ]
>   - product.md
>   - structure.md
>   - tech.md
> - [ 커스텀 스티어링 문서 ]
>   - todo-app-standards.md
>   - ...

5. AGENT STEERING에서 추가(+) 아이콘 > todo-app agent steering을 선택합니다. 

6. 파일명 `todo-app-standards.md`를 입력하고 Enter로 커스텀 스티어링 파일을 생성합니다.

7. [파일 내용](https://raw.githubusercontent.com/iamhansko/kiro-workshop/refs/heads/main/public/markdown/todo-app-standards.md)을 복사해서 생성된 `todo-app-standards.md`에 붙여넣기하고 저장합니다.

8. 아래 프롬프트를 복사한 후, Vibe 세션에 입력하여 HTML 검토 및 수정을 요청합니다.

```md copy
할 일 관리 앱의 HTML이 개발 표준을 준수하고 있는지 검토하고, 준수하고 있지 않다면 파일을 수정해 주세요. 
```

9. 스티어링에서 지정한 HTML 표준이 자동 적용되었는지 확인합니다.

    ✅ 확인 사항:

    - 시맨틱 태그 사용 여부 (\<header\>, \<main\>, \<section\>, \<article\> 등)
    - 접근성 속성 포함 여부 (aria-label, alt 등)
    - 2칸 들여쓰기 적용 여부

10. 아래 프롬프트를 복사한 후, Vibe 세션에 입력하여 CSS 검토 및 수정을 요청합니다.
```md copy
할 일 관리 앱의 CSS가 개발 표준을 준수하고 있는지 검토하고, 준수하고 있지 않다면 파일을 수정해 주세요. 
```

11. 스티어링에서 지정한 CSS 표준이 자동 적용되었는지 확인합니다.

    ✅ 확인 사항:

    - BEM 방법론 적용 여부 (Block-Element-Modifier)
    - CSS 변수 사용 여부 (--primary-color 등)
    - 2칸 들여쓰기 적용 여부

12. 아래 프롬프트를 복사한 후, Vibe 세션에 입력하여 JavaScript 검토 및 수정을 요청합니다.
```md copy
할 일 관리 앱의 JavaScript가 개발 표준을 준수하고 있는지 검토하고, 준수하고 있지 않다면 파일을 수정해 주세요. 
```

13. 스티어링에서 지정한 JavaScript 표준이 자동 적용되었는지 확인합니다.

    ✅ 확인 사항:

    - const/let 사용 여부 (var 금지)
    - 동사로 시작하는 함수명 (addTodo, deleteTodo 등)
    - 한글 주석 포함
    - 2칸 들여쓰기 적용 여부